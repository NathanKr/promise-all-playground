get better performace with promise.all